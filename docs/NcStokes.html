<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!--                                             -->
<!-- Author: ROOT team (rootdev@cern.ch)         -->
<!--                                             -->
<!--   Date: Fri Aug 27 11:36:21 2021            -->
<!--                                             -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>NcStokes</title>
<meta name="rating" content="General" />
<meta name="objecttype" content="Manual" />
<meta name="keywords" content="software development, oo, object oriented, unix, x11, windows, c++, html, rene brun, fons rademakers, cern" />
<meta name="description" content="ROOT - An Object Oriented Framework For Large Scale Data Analysis." />
<link rel="stylesheet" type="text/css" href="ROOT.css" id="ROOTstyle" />
<script type="text/javascript" src="ROOT.js"></script>
</head>
<body  onload="javascript:SetValuesFromCookie();"><div id="body_content">
<div id="root_header"><img src="http://root.cern.ch/drupal/sites/default/files/rootdrawing-logo.png" alt="ROOT logo"/></div>
<a name="TopOfPage"></a>
<script type="text/javascript">WriteFollowPageBox('class NcStokes','','NcStokes.h');</script>
<div id="toplinks">
<div class="descrhead"><div class="descrheadcontent">
<span class="descrtitle">Quick Links:</span>
<a class="descrheadentry" href="http://root.cern.ch">ROOT Homepage</a>
<a class="descrheadentry" href="./ClassIndex.html">Class Index</a>
<a class="descrheadentry" href="./ClassHierarchy.html">Class Hierarchy</a></div>
<script type="text/javascript">
function onSearch() {
var s='http://www.google.com/search?q=%s+site%3A%u+-site%3A%u%2Fsrc%2F+-site%3A%u%2Fexamples%2F';
var ref=String(document.location.href).replace(/https?:\/\//,'').replace(/\/[^\/]*$/,'').replace(/\//g,'%2F');
window.location.href=s.replace(/%u/ig,ref).replace(/%s/ig,escape(document.searchform.t.value));
return false;}
</script>
<form id="searchform" name="searchform" onsubmit="return onSearch()" action="javascript:onSearch();" method="post">
<input name="t" size="30" value="Search documentation..." onfocus="if (document.searchform.t.value=='Search documentation...') document.searchform.t.value='';"></input>
<a id="searchlink"  title="www.google.com"  href="javascript:onSearch();" onclick="return onSearch()">Search</a></form>
</div>
<div class="descrhead"><div class="descrheadcontent">
<span class="descrtitle">Source:</span>
<a class="descrheadentry" href="src/NcStokes.h.html">header file</a>
<a class="descrheadentry" href="src/NcStokes.cxx.html">source file</a>
<a class="descrheadentry" href="NcStokes_Tree.pdf">inheritance tree (.pdf)</a> 
</div></div>
<div class="descrhead"><div class="descrheadcontent">
<span class="descrtitle">Sections:</span>
<a class="descrheadentry" href="#NcStokes:description">class description</a> 
<a class="descrheadentry" href="#NcStokes:Function_Members">function members</a>
<a class="descrheadentry" href="#NcStokes:Data_Members">data members</a>
<a class="descrheadentry" href="#NcStokes:Class_Charts">class charts</a>
</div></div>
</div>
<div class="location">
<a class="locationlevel" href="index.html">NCFS</a>
 &#187; <a class="locationlevel" href="./SOURCE_Index.html">SOURCE</a>
 &#187; <a class="locationlevel" href="#TopOfPage">NcStokes</a>
</div>
<div class="dropshadow"><div class="withshadow"><h1><a name="NcStokes:description"></a>class NcStokes</h1>
<div class="classdescr">
<pre>
 <a href="./NcStokes.html#NcStokes:Class" title="TClass* NcStokes::Class()">Class</a> <a href="./NcStokes.html">NcStokes</a>
 Treatment of Stokes parameters for EM polarisation studies.

 The Stokes parameters provide a convenient way to describe the polarisation
 of electromagnetic radiation based on observed intensities, without the need
 for detailed phase information.
 The Stokes parameters are represented by 4 observables, denoted as components
 of a so-called Stokes vector (S0,S1,S2,S3) also known as (I,Q,U,V).

 Since EM radiation is transversely polarized, the polarisation can be described
 by two components of the electric field vector E in a plane perpendicular to
 the direction of propagation.
 These two electric field components may oscillate independently, provided that
 the magnetic field vector B oscillates correspondingly such that it stays
 perpendicular to the electric field in the plane of oscillation.
 This allows a rotating E vector, describing an ellipse as the most generic result,
 with as extreme cases a circle (circular polarisation) or a line (linear polarisation).

 A generic polarisation description is obtained via a 2-dimensional complex vector,
 called a Jones vector: J=(E1,E2)=(A1*exp(i*phi1),A2*exp(i*phi2))*exp(i*omega*t).
 Here |E1|=A1 and |E2|=A2 are the amplitudes, and phi1 and phi2 are the phases
 with respect to some orthogonal basis.
 The term exp(i*omega*t) represents the oscillation with angular frequency omega.
 The physical electrical field is the real part of the Jones vector.

 The physical interpretation of the Stokes parameters is that each parameter represents
 a net polarisation intensity along a certain coordinate axis of an orthogonal basis.
 The Stokes parameter I represents the total beam intensity, so we need 3 different
 orthogonal bases to describe the net polarisation intensities via the parameters Q, U and V.

 The convention used here is to define a right-handed Cartesian coordinate system (x,y,z),
 in which the EM wave moves in the +z direction and the oscillation takes
 place in the x-y plane.
 The right hand rule, with the thumb pointing in the direction of propagation,
 defines the rotation direction with positive helicity.

 This Cartesian coordinate system defines the first orthogonal basis (x,y).
 The 2nd orthogonal basis (a,b) is obtained by rotating the (x,y) basis over 45 degrees.
 In other words : a=(x+y)/sqrt(2) and b=(-x+y)/sqrt(2)
 The 3rd orthogonal basis (R,L) is a circular basis with R=(x+iy)/sqrt(2) and L=(x-iy)/sqrt(2).
 Here R and L represent Right handed and Left handed rotation, respectively.

 Since intensity=|E|^2 we can obtain the intensities along the various base vectors
 by taking the dot product of J with the corresponding base vector.
 So, for instance I(x)=|&lt;J,x&gt;|^2 where &lt;J,x&gt; denotes the dot product of J with the x base vector.
 Note that for a complex vector E we have |E|^2=E*E^*  where E^* indicates the complex conjugate of E.

 The Stokes parameters represent the following intensities :

 I=I(x)+I(y) The sum of the two (x,y) linear polarisation intensities.
 Q=I(x)-I(y) The difference of the two (x,y) linear polarisation intensities.
 U=I(a)-I(b) The difference of the two (a,b) linear polarisation intensities.
             Note that Q=0 at the axes of the (a,b) frame and U=0 at the axes of the (x,y) frame.
 V=I(R)-I(L) The difference of the right and left circular polarisation intensities.

 In other words :

 I : represents the total beam intensity.
 Q : represents a net horizontal (Q&gt;0) or vertical (Q&lt;0) linear polarisation component.
 U : represents a net diagonal linear polarisation component.
 V : represents a net circular polarisation (right:V&gt;0  left:V&lt;0) component.

 whereas Q=U=V=0 represents an unpolarized beam of EM radiation.

 For a fully polarized monochromatic beam of EM radiation in our Cartesian (x,y,z) frame,
 the Stokes parameters are obtained from the projections of the Jones vector as follows :

 I=|E1|^2+|E2|^2=A1^2+A2^2
 Q=|E1|^2-|E2|^2=A1^2-A2^2
 U=2*Re(E1*E2^*)=2*A1*A2*cos(phi1-phi2)
 V=2*Im(E1*E2^*)=2*A1*A2*sin(phi1-phi2)

 In terms of a polarisation ellipse with semi major axis A, semi minor axis B and
 orientation angle theta between a and the x-axis we have :

 I=A^2+B^2
 Q=(A^2-B^2)*cos(2*theta)
 U=(A^2-B^2)*sin(2*theta)
 V=2*A*B*helicity

 It is seen that the Stokes parameters reflect intensities without any
 time dependent phase, and as such can be treated via simple addition and subtraction.
 In particular, the above shows that I^2=Q^2+U^2+V^2.

 Since a beam of EM radiation may contain both polarized and unpolarized radiation,
 only a fraction f of the total beam intensity I will be polarized.
 Consequently, we should have used only the polarized intensity P=f*I in the above expressions,
 such that P^2=Q^2+U^2+V^2.
 However, the Stokes parameter I always represents the total beam intensity, so that I=P/f
 for a beam with a certain amount of polarisation.
 P=sqrt(Q^2+U^2+V^2) represents the total polarisation intensity and the ratio P/I is called
 the polarisation fraction.
 Furthermore, L=sqrt(Q^2+U^2) is called the linear polarisation intensity,
 whereas |V| represents the circular polarisation intensity.

 Inversion of the above equations yields for the Jones vector :

 A1=sqrt((P+Q)/2) A2=sqrt((P-Q)/2) and (phi1-phi2)=arctan(V/U)

 whereas for the polarisation ellipse parameters we obtain :

 A=sqrt((P+L)/2) B=sqrt((P-L)/2) theta=0.5*arctan(U/Q)

 This class provides memberfunctions to enter data either directly via the Stokes parameters,
 see <a href="./NcStokes.html#NcStokes:SetStokesParameters" title="void NcStokes::SetStokesParameters(Double_t I,Double_t Q,Double_t U,Double_t V)">SetStokesParameters</a>(), via specification of the Jones vector, see <a href="./NcStokes.html#NcStokes:SetJonesVector" title="void NcStokes::SetJonesVector(Double_t A1,Double_t A2,Double_t phi,TString u,Double_t p=1)">SetJonesVector</a>(),
 or by providing the geometrical parameters of the polarisation ellipse, see <a href="./NcStokes.html#NcStokes:SetEllipseParameters" title="void NcStokes::SetEllipseParameters(Double_t a,Double_t b,Double_t theta,TString u,Int_t h,Double_t p=1)">SetEllipseParameters</a>().
 Once the data have been entered, the various parameter values may be obtained via <a href="./NcStokes.html#NcStokes:GetParameter" title="Double_t NcStokes::GetParameter(TString name,TString u=&quot;rad&quot;)">GetParameter</a>()
 or listed via the <a href="./NcStokes.html#NcStokes:Data" title="void NcStokes::Data(TString u=&quot;rad&quot;)">Data</a>() memberfunction.

--- Author: Nick van Eijndhoven, IIHE-VUB, Brussel, August 21, 2021  13:39Z
- Modified: Nick van Eijndhoven, IIHE-VUB, Brussel, August 27, 2021  10:48Z

</pre></div>
</div></div>

<div id="functions">
<h2><a id="NcStokes:Function_Members"></a>Function Members (Methods)</h2>
<div class="access" id="funcpubl"><b>public:</b>
<table class="func" id="tabfuncpubl" cellspacing="0">
<tr class="func"><td class="funcret"></td><td class="funcname"><a class="funcname" href="#NcStokes:NcStokes">NcStokes</a>()</td></tr>
<tr class="func"><td class="funcret"></td><td class="funcname"><a class="funcname" href="#NcStokes:NcStokes@1">NcStokes</a>(<span class="keyword">const</span> <a href="./NcStokes.html">NcStokes</a>&amp; q)</td></tr>
<tr class="func"><td class="funcret"> virtual</td><td class="funcname"><a class="funcname" href="#NcStokes:_NcStokes">~NcStokes</a>()</td></tr>
<tr class="func"><td class="funcret">static TClass*</td><td class="funcname"><a class="funcname" href="#NcStokes:Class">Class</a>()</td></tr>
<tr class="func"><td class="funcret"><span class="keyword">void</span></td><td class="funcname"><a class="funcname" href="#NcStokes:Data">Data</a>(TString u = <span class="string">"rad"</span>)</td></tr>
<tr class="func"><td class="funcret"><a href="./ListOfTypes.html#Double_t">Double_t</a></td><td class="funcname"><a class="funcname" href="#NcStokes:GetParameter">GetParameter</a>(TString name, TString u = <span class="string">"rad"</span>)</td></tr>
<tr class="func"><td class="funcret">virtual TClass*</td><td class="funcname"><a class="funcname" href="#NcStokes:IsA">IsA</a>() <span class="keyword">const</span></td></tr>
<tr class="func"><td class="funcret"><a href="./NcStokes.html">NcStokes</a>&amp;</td><td class="funcname"><a class="funcname" href="#NcStokes:operator_">operator=</a>(<span class="keyword">const</span> <a href="./NcStokes.html">NcStokes</a>&amp;)</td></tr>
<tr class="func"><td class="funcret"><span class="keyword">void</span></td><td class="funcname"><a class="funcname" href="#NcStokes:SetEllipseParameters">SetEllipseParameters</a>(<a href="./ListOfTypes.html#Double_t">Double_t</a> a, <a href="./ListOfTypes.html#Double_t">Double_t</a> b, <a href="./ListOfTypes.html#Double_t">Double_t</a> theta, TString u, <a href="./ListOfTypes.html#Int_t">Int_t</a> h, <a href="./ListOfTypes.html#Double_t">Double_t</a> p = 1)</td></tr>
<tr class="func"><td class="funcret"><span class="keyword">void</span></td><td class="funcname"><a class="funcname" href="#NcStokes:SetJonesVector">SetJonesVector</a>(<a href="./ListOfTypes.html#Double_t">Double_t</a> A1, <a href="./ListOfTypes.html#Double_t">Double_t</a> A2, <a href="./ListOfTypes.html#Double_t">Double_t</a> phi, TString u, <a href="./ListOfTypes.html#Double_t">Double_t</a> p = 1)</td></tr>
<tr class="func"><td class="funcret"><span class="keyword">void</span></td><td class="funcname"><a class="funcname" href="#NcStokes:SetStokesParameters">SetStokesParameters</a>(<a href="./ListOfTypes.html#Double_t">Double_t</a> I, <a href="./ListOfTypes.html#Double_t">Double_t</a> Q, <a href="./ListOfTypes.html#Double_t">Double_t</a> U, <a href="./ListOfTypes.html#Double_t">Double_t</a> V)</td></tr>
<tr class="func"><td class="funcret">virtual <span class="keyword">void</span></td><td class="funcname"><a class="funcname" href="#NcStokes:ShowMembers">ShowMembers</a>(TMemberInspector&amp;)</td></tr>
<tr class="func"><td class="funcret">virtual <span class="keyword">void</span></td><td class="funcname"><a class="funcname" href="#NcStokes:Streamer">Streamer</a>(TBuffer&amp;)</td></tr>
<tr class="func"><td class="funcret"><span class="keyword">void</span></td><td class="funcname"><a class="funcname" href="#NcStokes:StreamerNVirtual">StreamerNVirtual</a>(TBuffer&amp; ClassDef_StreamerNVirtual_b)</td></tr>

</table></div>
</div>

<div id="datamembers">
<h2><a name="NcStokes:Data_Members"></a>Data Members</h2>
<div class="access" id="dataprot"><b>protected:</b>
<table class="data" id="tabdataprot" cellspacing="0">
<tr class="data"><td class="datatype"><a href="./ListOfTypes.html#Double_t">Double_t</a></td><td class="dataname"><a name="NcStokes:fI"></a>fI</td><td class="datadesc">Stokes parameter I (also called S0)</td></tr>
<tr class="data"><td class="datatype"><a href="./ListOfTypes.html#Double_t">Double_t</a></td><td class="dataname"><a name="NcStokes:fQ"></a>fQ</td><td class="datadesc">Stokes parameter Q (also called S1)</td></tr>
<tr class="data"><td class="datatype"><a href="./ListOfTypes.html#Double_t">Double_t</a></td><td class="dataname"><a name="NcStokes:fU"></a>fU</td><td class="datadesc">Stokes parameter U (also called S2)</td></tr>
<tr class="data"><td class="datatype"><a href="./ListOfTypes.html#Double_t">Double_t</a></td><td class="dataname"><a name="NcStokes:fV"></a>fV</td><td class="datadesc">Stokes parameter V (also called S3)</td></tr>

</table></div>
</div>
<h2><a id="NcStokes:Class_Charts"></a>Class Charts</h2>
<!--INHERITANCE TREE-->
<table><tr><td width="10%"></td><td width="70%"><a href="ClassHierarchy.html">Inheritance Chart</a>:</td></tr><tr class="inhtree"><td width="10%"></td><td width="70%"><table class="inhtree"><tr><td>
<table width="100%" border="0" cellpadding ="0" cellspacing="2"><tr>
<td>
<center><big><b><tt><a name="NcStokes" href="./NcStokes.html">NcStokes</a></tt></b></big></center>
</td>
<td><table><tr>
<td></td>
</tr></table></td>
</tr></table>
</td></tr></table></td></tr></table>
<h2>Function documentation</h2>
<div class="funcdoc"><span class="funcname"> <a class="funcname" name="NcStokes:NcStokes" href="src/NcStokes.cxx.html#Zi5wGE">NcStokes</a>()</span><br />
<div class="funccomm"><pre> Default constructor.
</pre></div>
</div>
<div class="funcdoc"><span class="funcname"> <a class="funcname" name="NcStokes:_NcStokes" href="src/NcStokes.cxx.html#HpL8OD">~NcStokes</a>()</span><br />
<div class="funccomm"><pre> Default destructor.
</pre></div>
</div>
<div class="funcdoc"><span class="funcname"> <a class="funcname" name="NcStokes:NcStokes@1" href="src/NcStokes.cxx.html#dMyo6D">NcStokes</a>(<span class="keyword">const</span> <a href="./NcStokes.html">NcStokes</a>&amp; q)</span><br />
<div class="funccomm"><pre> Copy constructor.
</pre></div>
</div>
<div class="funcdoc"><span class="funcname"><span class="keyword">void</span> <a class="funcname" name="NcStokes:SetStokesParameters" href="src/NcStokes.cxx.html#zibXLB">SetStokesParameters</a>(<a href="./ListOfTypes.html#Double_t">Double_t</a> I, <a href="./ListOfTypes.html#Double_t">Double_t</a> Q, <a href="./ListOfTypes.html#Double_t">Double_t</a> U, <a href="./ListOfTypes.html#Double_t">Double_t</a> V)</span><br />
<div class="funccomm"><pre> Set the values of the Stokes parameters I, Q, U and V.
 These parameters are also known as S0, S1, S2 and S3, respectively.
</pre></div>
</div>
<div class="funcdoc"><span class="funcname"><span class="keyword">void</span> <a class="funcname" name="NcStokes:SetEllipseParameters" href="src/NcStokes.cxx.html#Lx0MuC">SetEllipseParameters</a>(<a href="./ListOfTypes.html#Double_t">Double_t</a> a, <a href="./ListOfTypes.html#Double_t">Double_t</a> b, <a href="./ListOfTypes.html#Double_t">Double_t</a> theta, TString u, <a href="./ListOfTypes.html#Int_t">Int_t</a> h, <a href="./ListOfTypes.html#Double_t">Double_t</a> p = 1)</span><br />
<div class="funccomm"><pre> Set the parameters of the polarisation ellipse.

 Input arguments :

 a     : semi major axis
 b     : semi minor axis
 theta : angle between the major axis and the x-axis
 u     : <span class="string">"deg"</span> --&gt; theta provide in degrees
         <span class="string">"rad"</span> --&gt; theta provide in radians
 h     : helicity (+1=right-handed  -1=left-handed)
 p     : total polarisation fraction

 The default value is p=1.
</pre></div>
</div>
<div class="funcdoc"><span class="funcname"><span class="keyword">void</span> <a class="funcname" name="NcStokes:SetJonesVector" href="src/NcStokes.cxx.html#vFQ9dB">SetJonesVector</a>(<a href="./ListOfTypes.html#Double_t">Double_t</a> A1, <a href="./ListOfTypes.html#Double_t">Double_t</a> A2, <a href="./ListOfTypes.html#Double_t">Double_t</a> phi, TString u, <a href="./ListOfTypes.html#Double_t">Double_t</a> p = 1)</span><br />
<div class="funccomm"><pre> Set the components of the Jones field vector (E1,E2)=(A1*exp(i*phi1),A2*exp(i*phi2))
 with phase difference phi=phi1-phi2.

 u : <span class="string">"deg"</span> --&gt; phi is given in degrees
 u : <span class="string">"rad"</span> --&gt; phi is given in radians
 p : total polarisation fraction

 The default value is p=1.
</pre></div>
</div>
<div class="funcdoc"><span class="funcname"><a href="./ListOfTypes.html#Double_t">Double_t</a> <a class="funcname" name="NcStokes:GetParameter" href="src/NcStokes.cxx.html#aR5L0D">GetParameter</a>(TString name, TString u = <span class="string">"rad"</span>)</span><br />
<div class="funccomm"><pre> Provide the value of the parameter with the specified name.
 For details about the various parameters, please refer to the
 general documentation of this class.

 u = <span class="string">"deg"</span> --&gt; Angles are returned in degrees
     <span class="string">"rad"</span> --&gt; Angles are returned in radians

 Supported parameter names are :

 I (or S0) : The total beam intensity I(x)+I(y) or equivalently I(a)+I(b)
 Q (or S1) : The net linear polarisation intensity I(x)-I(y)
 U (or S2) : The 45 degree rotated net linear polarisation intensity I(a)-I(b)
 V (or S3) : The net circular polarisation intensity I(R)-I(L)
 P         : The total polarisation intensity
 L         : The linear polarisation intensity
 C         : The circular polarisation intensity
 a         : The semi major axis of the polarisation ellipse
 b         : The semi minor axis of the polarisation ellipse
 e         : The eccentricity of the polarisation ellipse
 theta     : The polarisation angle (=orientation angle of the ellipse)
 beta      : The ellipticity angle of the polarisation ellipse, i.e. arctan(b/a)
 helicity  : The helicity of the polarisation (+1=right handed  -1=left handed)
 A1        : Amplitude |E1| of the Jones field vector (E1,E2)=(A1*exp(i*phi1),A2*exp(i*phi2))
 A2        : Amplitude |E2| of the Jones field vector (E1,E2)=(A1*exp(i*phi1),A2*exp(i*phi2))
 phi       : Phase difference (phi1-phi2) between the Jones vector components

 The default value is u=<span class="string">"rad"</span>.
</pre></div>
</div>
<div class="funcdoc"><span class="funcname"><span class="keyword">void</span> <a class="funcname" name="NcStokes:Data" href="src/NcStokes.cxx.html#ulzXn">Data</a>(TString u = <span class="string">"rad"</span>)</span><br />
<div class="funccomm"><pre> Provide all polarisation related information.
 For details about the various parameters, please refer to the
 general documentation of this class.

 The input argument <span class="string">"u"</span> allows to select the units for angles.

 u = <span class="string">"deg"</span> --&gt; Angles are given in degrees
     <span class="string">"rad"</span> --&gt; Angles are given in radians

 The default value is u=<span class="string">"rad"</span>.
</pre></div>
</div>

<br />
<!--SIGNATURE-->
<div id="footer">

<em>&raquo; Last changed: Fri Aug 27 11:36:21 2021 </em><em>&raquo; Last generated: 2021-08-27 11:36</em><br />
<em>This page has been automatically generated. For comments or suggestions regarding the documentation or ROOT in general please send a mail to <a href="mailto:rootdev@cern.ch">ROOT support</a>.</em>
</div>
</div>
</body>
</html>
